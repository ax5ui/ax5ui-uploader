{"version":3,"sources":["ax5uploader.min.js","ax5uploader.js","ax5uploader-tmpl.js"],"names":["UI","ax5","ui","U","util","UPLOADER","addClass","className","version","ax5uploader","self","this","cfg","instanceId","getGuid","config","clickEventName","theme","lang","upload","abort","uploadedBox","columnKeys","name","type","size","uploadedName","uploadedPath","downloadPath","previewPath","thumbnail","animateTime","accept","multiple","manualUpload","progressBox","defaultBtns","label","uploadedFiles","$target","$inputContainer","$inputFile","$inputFileForm","$fileSelector","$dropZone","$uploadedBox","__uploading","selectedFiles","selectedFilesTotal","__loaded","onStateChanged","that","call","onSelectFile","_evt","files","info","supportFileApi","dataTransfer","target","length","toArray","openProgressBox","send","bind","bindEvent","off","on","trigger","get","e","isItemCell","findParentNode","hasAttribute","addEventListener","stopEvent","removeClass","window","event","alignLayout","alignProgressBox","append","_alignProgressBox","$window","jQuery","$body","document","body","pos","positionMargin","dim","pickerDim","pickerDirection","$progressBox","parent","position","offset","width","outerWidth","height","outerHeight","winWidth","Math","max","winHeight","direction","top","positionCSS","css","left","$progressBoxArrow","viewport","selector","act","getAttribute","processor","setTimeout","$progressUpload","removeAttr","$progressAbort","state","closeProgressBox","remove","startUpload","html5","uploadFile","shift","uploadComplete","formData","FormData","find","each","value","form","fileName","xhr","XMLHttpRequest","open","action","onload","res","response","parseJson","debug","console","log","error","uploaded","onprogress","updateProgressBar","isFunction","loaded","total","iframe","$","filesTotal","forEach","n","attr","$progressBar","number","round","lengthComputable","push","repaintUploadedBox","onuploaded","onuploadComplete","cancelUpload","html","tmpl","icon","init","_config","extend","dropZone","$this","cellType","uploadedItemIndex","Number","parents","onclick","fileIndex","data","isObject","getError","btns","setUploadedFiles","_files","isArray","removeFile","_index","isNaN","splice","removeFileAll","main","uploader_instance","arguments","setConfig","apply","uploader","uploadProgress","inputFile","inputFileForm","upoadedBox","tmplName","text","render","byte","mustache"],"mappings":"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","file":"ax5uploader.min.js","sourcesContent":["\"use strict\";\n\n// ax5.ui.uploader\n(function () {\n\n    var UI = ax5.ui;\n    var U = ax5.util;\n    var UPLOADER = void 0;\n\n    UI.addClass({\n        className: \"uploader\",\n        version: \"${VERSION}\"\n    }, function () {\n\n        var ax5uploader = function ax5uploader() {\n            /**\n             * @class ax5uploader\n             * @classdesc\n             * @author tom@axisj.com\n             * @example\n             * ```js\n             *\n             * ```\n             */\n            var self = this,\n                cfg = void 0;\n\n            this.instanceId = ax5.getGuid();\n            this.config = {\n                clickEventName: \"click\", //(('ontouchstart' in document.documentElement) ? \"touchend\" : \"click\"),\n                theme: 'default', // theme of uploader\n                lang: { // 업로더 버튼 랭귀지 설정\n                    \"upload\": \"Upload\",\n                    \"abort\": \"Abort\"\n                },\n                uploadedBox: {\n                    columnKeys: {\n                        name: \"name\",\n                        type: \"type\",\n                        size: \"size\",\n                        uploadedName: \"uploadedName\",\n                        uploadedPath: \"uploadedPath\",\n                        downloadPath: \"downloadPath\",\n                        previewPath: \"previewPath\",\n                        thumbnail: \"thumbnail\"\n                    }\n                },\n                animateTime: 100,\n                accept: \"*/*\", // 업로드 선택 파일 타입 설정\n                multiple: false, // 다중 파일 업로드\n                manualUpload: false, // 업로딩 시작 수동처리 여부\n                progressBox: true // 업로드 프로그래스 박스 사용여부 false 이면 업로드 진행바를 표시 하지 않습니다. 개발자가 onprogress 함수를 이용하여 직접 구현 해야 합니다.\n            };\n            this.defaultBtns = {\n                \"upload\": { label: this.config.lang[\"upload\"], theme: \"btn-primary\" },\n                \"abort\": { label: this.config.lang[\"abort\"], theme: this.config.theme }\n            };\n\n            /// 업로드된 파일 큐\n            this.uploadedFiles = [];\n            /// 업로더 타겟\n            this.$target = null;\n            /// 업로드된 파일 정보들의 input 태그를 담아두는 컨테이너\n            this.$inputContainer = null;\n            /// input file 태그\n            this.$inputFile = null;\n            this.$inputFileForm = null;\n            /// 파일 선택버튼\n            this.$fileSelector = null;\n            /// 파일 드랍존\n            this.$dropZone = null;\n            /// 파일 목록 표시박스\n            this.$uploadedBox = null;\n\n            this.__uploading = false;\n            this.selectedFiles = [];\n            this.selectedFilesTotal = 0;\n            this.__loaded = 0;\n\n            cfg = this.config;\n\n            /**\n             * UI 상태변경 이벤트 처리자\n             * UI의 상태변경 : open, close, upload 등의 변경사항이 발생되면 onStateChanged 함수를 후출하여 이벤트를 처리\n             */\n            var onStateChanged = function onStateChanged(that) {\n\n                var state = {\n                    \"open\": function open() {},\n                    \"close\": function close() {},\n                    \"upload\": function upload() {}\n                };\n\n                if (cfg.onStateChanged) {\n                    cfg.onStateChanged.call(that, that);\n                } else if (this.onStateChanged) {\n                    this.onStateChanged.call(that, that);\n                }\n\n                that = null;\n                return true;\n            };\n\n            var onSelectFile = function (_evt) {\n                var files = void 0;\n\n                if (!ax5.info.supportFileApi) {\n                    // file API 지원 안되는 브라우저.\n                } else if ('dataTransfer' in _evt) {\n                    files = _evt.dataTransfer.files;\n                } else if ('target' in _evt) {\n                    files = _evt.target.files;\n                } else if (_evt) {\n                    files = _evt;\n                }\n\n                if (!files) return false;\n\n                /// selectedFiles에 현재 파일 정보 담아두기\n                if (length in files) {\n                    this.selectedFiles = U.toArray(files);\n                } else {\n                    this.selectedFiles = [files];\n                }\n\n                if (cfg.progressBox) {\n                    openProgressBox();\n                }\n                if (!cfg.manualUpload) {\n                    this.send();\n                }\n            }.bind(this);\n\n            var bindEvent = function bindEvent() {\n                this.$fileSelector.off(\"click.ax5uploader\").on(\"click.ax5uploader\", function () {\n                    this.$inputFile.trigger(\"click\");\n                }.bind(this));\n\n                this.$inputFile.off(\"change.ax5uploader\").on(\"change.ax5uploader\", function (_evt) {\n                    onSelectFile(_evt);\n                }.bind(this));\n\n                (function () {\n                    // dropZone 설정 방식 변경\n                    if (!this.$dropZone || !this.$dropZone.get(0)) return false;\n\n                    var timer = void 0;\n\n                    this.$dropZone.on(\"click\", function (e) {\n                        //console.log(e.target.getAttribute(\"data-ax5uploader-dropzone\"));\n                        var isItemCell = ax5.util.findParentNode(e.target, function (target) {\n                            if (target.hasAttribute(\"data-uploaded-item-cell\")) {\n                                return true;\n                            }\n                        });\n\n                        if (!isItemCell) {\n                            // dropZone click\n                            self.$inputFile.trigger(\"click\");\n                        }\n                    });\n\n                    this.$dropZone.get(0).addEventListener('dragover', function (e) {\n                        U.stopEvent(e);\n                        self.$dropZone.addClass(\"dragover\");\n                    }, false);\n\n                    this.$dropZone.get(0).addEventListener('dragleave', function (e) {\n                        U.stopEvent(e);\n                        self.$dropZone.removeClass(\"dragover\");\n                    }, false);\n\n                    this.$dropZone.get(0).addEventListener('drop', function (e) {\n                        U.stopEvent(e);\n                        self.$dropZone.removeClass(\"dragover\");\n                        onSelectFile(e || window.event);\n                    }, false);\n                }).call(this);\n            };\n\n            var alignLayout = function alignLayout() {\n                // 상황이 좋지 않은경우 (만약 버튼 클릭으로 input file click이 되지 않는 다면 z-index값을 높여서 버튼위를 덮는다.)\n                /*\n                 var box = this.$fileSelector.position();\n                 box.width = this.$fileSelector.outerWidth();\n                 box.height = this.$fileSelector.outerHeight();\n                 this.$inputFile.css(box);\n                 */\n            };\n\n            var alignProgressBox = function alignProgressBox(append) {\n                var _alignProgressBox = function _alignProgressBox() {\n                    var $window = jQuery(window),\n                        $body = jQuery(document.body);\n                    var pos = {},\n                        positionMargin = 6,\n                        dim = {},\n                        pickerDim = {},\n                        pickerDirection = void 0;\n\n                    // cfg.viewport.selector\n\n                    pos = this.$progressBox.parent().get(0) == this.$target.get(0) ? this.$fileSelector.position() : this.$fileSelector.offset();\n                    dim = {\n                        width: this.$fileSelector.outerWidth(),\n                        height: this.$fileSelector.outerHeight()\n                    };\n                    pickerDim = {\n                        winWidth: Math.max($window.width(), $body.width()),\n                        winHeight: Math.max($window.height(), $body.height()),\n                        width: this.$progressBox.outerWidth(),\n                        height: this.$progressBox.outerHeight()\n                    };\n\n                    // picker css(width, left, top) & direction 결정\n                    if (!cfg.direction || cfg.direction === \"\" || cfg.direction === \"auto\") {\n                        // set direction\n                        pickerDirection = \"top\";\n                        if (pos.top - pickerDim.height - positionMargin < 0) {\n                            pickerDirection = \"top\";\n                        } else if (pos.top + dim.height + pickerDim.height + positionMargin > pickerDim.winHeight) {\n                            pickerDirection = \"bottom\";\n                        }\n                    } else {\n                        pickerDirection = cfg.direction;\n                    }\n\n                    if (append) {\n                        this.$progressBox.addClass(\"direction-\" + pickerDirection);\n                    }\n\n                    var positionCSS = function () {\n                        var css = { left: 0, top: 0 };\n                        switch (pickerDirection) {\n                            case \"top\":\n                                css.left = pos.left + dim.width / 2 - pickerDim.width / 2;\n                                css.top = pos.top + dim.height + positionMargin;\n                                break;\n                            case \"bottom\":\n                                css.left = pos.left + dim.width / 2 - pickerDim.width / 2;\n                                css.top = pos.top - pickerDim.height - positionMargin;\n                                break;\n                            case \"left\":\n                                css.left = pos.left + dim.width + positionMargin;\n                                css.top = pos.top - pickerDim.height / 2 + dim.height / 2;\n                                break;\n                            case \"right\":\n                                css.left = pos.left - pickerDim.width - positionMargin;\n                                css.top = pos.top - pickerDim.height / 2 + dim.height / 2;\n                                break;\n                        }\n                        return css;\n                    }();\n\n                    (function () {\n                        if (pickerDirection == \"top\" || pickerDirection == \"bottom\") {\n                            if (positionCSS.left < 0) {\n                                positionCSS.left = positionMargin;\n                                this.$progressBoxArrow.css({ left: pos.left + dim.width / 2 - positionCSS.left });\n                            } else if (positionCSS.left + pickerDim.width > pickerDim.winWidth) {\n                                positionCSS.left = pickerDim.winWidth - pickerDim.width - positionMargin;\n                                this.$progressBoxArrow.css({ left: pos.left + dim.width / 2 - positionCSS.left });\n                            }\n                        }\n                    }).call(this);\n\n                    this.$progressBox.css(positionCSS);\n                };\n\n                this.$progressBox.css({ top: -999 });\n                if (append) {\n                    // progressBox를 append 할 타겟 엘리먼트 펀단 후 결정.\n                    (function () {\n                        if (cfg.viewport) {\n                            return jQuery(cfg.viewport.selector);\n                        } else {\n                            return this.$target;\n                        }\n                    }).call(this).append(this.$progressBox);\n\n                    // progressBox 버튼에 이벤트 연결.\n                    this.$progressBox.off(\"click.ax5uploader\").on(\"click.ax5uploader\", \"button\", function (_evt) {\n                        var act = _evt.target.getAttribute(\"data-pregressbox-btn\");\n                        var processor = {\n                            \"upload\": function upload() {\n                                this.send();\n                            },\n                            \"abort\": function abort() {\n                                this.abort();\n                            }\n                        };\n                        if (processor[act]) processor[act].call(this);\n                    }.bind(this));\n                }\n\n                setTimeout(function () {\n                    _alignProgressBox.call(this);\n                }.bind(this));\n            };\n\n            var openProgressBox = function () {\n                this.$progressBox.removeClass(\"destroy\");\n                this.$progressUpload.removeAttr(\"disabled\");\n                this.$progressAbort.removeAttr(\"disabled\");\n\n                // apend & align progress box\n                alignProgressBox.call(this, \"append\");\n\n                // state change\n                onStateChanged.call(this, {\n                    self: this,\n                    state: \"open\"\n                });\n            }.bind(this);\n\n            var closeProgressBox = function () {\n                this.$progressBox.addClass(\"destroy\");\n                setTimeout(function () {\n                    this.$progressBox.remove();\n                }.bind(this), cfg.animateTime);\n            }.bind(this);\n\n            var startUpload = function () {\n\n                var processor = {\n                    \"html5\": function html5() {\n\n                        var uploadFile = this.selectedFiles.shift();\n                        if (!uploadFile) {\n                            // 업로드 종료\n                            uploadComplete();\n                            return this;\n                        }\n\n                        var formData = new FormData();\n                        //서버로 전송해야 할 추가 파라미터 정보 설정\n\n                        this.$target.find(\"input\").each(function () {\n                            formData.append(this.name, this.value);\n                        });\n                        // 파일 아이템 추가\n                        formData.append(cfg.form.fileName, uploadFile);\n\n                        this.xhr = new XMLHttpRequest();\n                        this.xhr.open(\"post\", cfg.form.action, true);\n\n                        this.xhr.onload = function (e) {\n                            var res = e.target.response;\n                            try {\n                                if (typeof res == \"string\") res = U.parseJson(res);\n                            } catch (e) {\n                                return false;\n                            }\n                            if (cfg.debug) console.log(res);\n\n                            if (res.error) {\n                                if (cfg.debug) console.log(res.error);\n                                return false;\n                            }\n\n                            uploaded(res);\n                            self.send();\n                        };\n\n                        this.xhr.upload.onprogress = function (e) {\n                            // console.log(e.loaded, e.total);\n                            updateProgressBar(e);\n                            if (U.isFunction(cfg.onprogress)) {\n                                cfg.onprogress.call({\n                                    loaded: e.loaded,\n                                    total: e.total\n                                }, e);\n                            }\n                        };\n                        this.xhr.send(formData); // multipart/form-data\n                    },\n                    \"form\": function form() {\n                        // 폼과 iframe을 만들어 페이지 아래에 삽입 후 업로드\n                        // iframe 생성\n                        var iframe = $('<iframe src=\"javascript:false;\" name=\"\" style=\"display:none;\"></iframe>');\n                        // form 생성.\n\n                        $(document.body).append(iframe);\n                    }\n                };\n\n                if (this.__uploading === false) {\n                    // 전체 파일 사이즈 구하기\n                    var filesTotal = 0;\n                    this.selectedFiles.forEach(function (n) {\n                        filesTotal += n.size;\n                    });\n                    this.selectedFilesTotal = filesTotal;\n                    this.__loaded = 0;\n\n                    this.__uploading = true; // 업로드 시작 상태 처리\n                    this.$progressUpload.attr(\"disabled\", \"disabled\");\n                    this.$progressAbort.removeAttr(\"disabled\");\n                }\n\n                processor[ax5.info.supportFileApi ? \"html5\" : \"form\"].call(this);\n            }.bind(this);\n\n            var updateProgressBar = function (e) {\n                this.__loaded += e.loaded;\n                this.$progressBar.css({ width: U.number(this.__loaded / this.selectedFilesTotal * 100, { round: 2 }) + '%' });\n                if (e.lengthComputable) {\n                    if (e.loaded >= e.total) {}\n                }\n            }.bind(this);\n\n            var uploaded = function (res) {\n                if (cfg.debug) console.log(res);\n                this.uploadedFiles.push(res);\n                repaintUploadedBox(); // 업로드된 파일 출력\n\n                if (U.isFunction(cfg.onuploaded)) {\n                    cfg.onuploaded.call({\n                        self: this\n                    }, res);\n                }\n            }.bind(this);\n\n            var uploadComplete = function () {\n                this.__uploading = false; // 업로드 완료 상태처리\n                this.$progressUpload.removeAttr(\"disabled\");\n                this.$progressAbort.attr(\"disabled\", \"disabled\");\n\n                if (cfg.progressBox) {\n                    closeProgressBox();\n                }\n                if (U.isFunction(cfg.onuploadComplete)) {\n                    cfg.onuploadComplete.call({\n                        self: this\n                    });\n                }\n                // update uploadedFiles display\n            }.bind(this);\n\n            var cancelUpload = function () {\n\n                var processor = {\n                    \"html5\": function html5() {\n                        if (this.xhr) {\n                            this.xhr.abort();\n                        }\n                    },\n                    \"form\": function form() {}\n                };\n\n                this.__uploading = false; // 업로드 완료 상태처리\n                this.$progressUpload.removeAttr(\"disabled\");\n                this.$progressAbort.attr(\"disabled\", \"disabled\");\n\n                processor[ax5.info.supportFileApi ? \"html5\" : \"form\"].call(this);\n\n                if (cfg.progressBox) {\n                    closeProgressBox();\n                }\n\n                this.$inputFile.get(0).value = \"\";\n                console.log(\"cancelUpload\");\n                // update uploadedFiles display\n            }.bind(this);\n\n            var repaintUploadedBox = function () {\n                // uploadedBox 가 없다면 아무일도 하지 않음.\n                // onuploaded 함수 이벤트를 이용하여 개발자가 직접 업로드디 박스를 구현 한다고 이해 하자.\n                if (this.$uploadedBox === null) return this;\n\n                this.$uploadedBox.html(UPLOADER.tmpl.get(\"upoadedBox\", {\n                    uploadedFiles: this.uploadedFiles,\n                    icon: cfg.uploadedBox.icon,\n                    lang: cfg.uploadedBox.lang\n                }, cfg.uploadedBox.columnKeys));\n            }.bind(this);\n\n            this.init = function (_config) {\n                cfg = jQuery.extend(true, {}, cfg, _config);\n                if (!cfg.target) {\n                    console.log(ax5.info.getError(\"ax5uploader\", \"401\", \"init\"));\n                    return this;\n                }\n\n                this.$target = jQuery(cfg.target);\n\n                // 파일 드랍존은 옵션 사항.\n                if (cfg.dropZone) {\n                    this.$dropZone = jQuery(cfg.dropZone);\n                    this.$dropZone.attr(\"data-ax5uploader-dropzone\", this.instanceId);\n                }\n\n                // uploadedBox 옵션 사항\n                if (cfg.uploadedBox && cfg.uploadedBox.target) {\n                    this.$uploadedBox = jQuery(cfg.uploadedBox.target);\n                    this.$uploadedBox.on(\"click\", \"[data-uploaded-item-cell]\", function () {\n                        var $this = jQuery(this),\n                            cellType = $this.attr(\"data-uploaded-item-cell\"),\n                            uploadedItemIndex = Number($this.parents('[data-ax5uploader-uploaded-item]').attr('data-ax5uploader-uploaded-item')),\n                            that = {};\n\n                        if (cfg.uploadedBox && cfg.uploadedBox.onclick) {\n                            that = {\n                                self: self,\n                                cellType: cellType,\n                                uploadedFiles: self.uploadedFiles,\n                                fileIndex: uploadedItemIndex\n                            };\n                            cfg.uploadedBox.onclick.call(that, that);\n                        }\n\n                        $this = null;\n                        cellType = null;\n                        uploadedItemIndex = null;\n                        that = null;\n                    });\n                }\n\n                // target attribute data\n                (function (data) {\n                    if (U.isObject(data) && !data.error) {\n                        cfg = jQuery.extend(true, cfg, data);\n                    }\n                }).call(this, U.parseJson(this.$target.attr(\"data-ax5uploader-config\"), true));\n\n                // detect element\n                /// fileSelector 수집\n                this.$fileSelector = this.$target.find('[data-ax5uploader-button=\"selector\"]');\n\n                if (this.$fileSelector.length === 0) {\n                    console.log(ax5.info.getError(\"ax5uploader\", \"402\", \"can not find file selector\"));\n                    return this;\n                }\n\n                // input file 추가\n                this.$inputFile = jQuery(UPLOADER.tmpl.get.call(this, \"inputFile\", {\n                    instanceId: this.instanceId,\n                    multiple: cfg.multiple,\n                    accept: cfg.accept\n                }));\n\n                if (ax5.info.supportFileApi) {\n                    jQuery(document.body).append(this.$inputFile);\n                } else {\n                    this.$inputFileForm = jQuery(UPLOADER.tmpl.get.call(this, \"inputFileForm\", {\n                        instanceId: this.instanceId\n                    }));\n                    this.$inputFileForm.append(this.$inputFile);\n                    jQuery(document.body).append(this.$inputFileForm);\n                }\n\n                // btns 확인\n                cfg.btns = jQuery.extend({}, this.defaultBtns, cfg.btns);\n\n                this.$progressBox = jQuery(UPLOADER.tmpl.get.call(this, \"progressBox\", {\n                    instanceId: this.instanceId,\n                    btns: cfg.btns\n                }));\n                this.$progressBar = this.$progressBox.find('[role=\"progressbar\"]');\n                this.$progressBoxArrow = this.$progressBox.find(\".ax-progressbox-arrow\");\n                this.$progressUpload = this.$progressBox.find('[data-pregressbox-btn=\"upload\"]');\n                this.$progressAbort = this.$progressBox.find('[data-pregressbox-btn=\"abort\"]');\n\n                // 레이아웃 정렬\n                alignLayout.call(this);\n                // 파일버튼 등에 이벤트 연결.\n                bindEvent.call(this);\n\n                return this;\n            };\n\n            /**\n             * @method ax5uploader.send\n             * @returns {ax5uploader}\n             *\n             */\n            this.send = function () {\n                return function () {\n                    // 업로드 시작\n                    startUpload();\n                    return this;\n                };\n            }();\n\n            /**\n             * @method ax5uploader.abort\n             * @returns {ax5uploader}\n             */\n            this.abort = function () {\n                return function () {\n                    cancelUpload();\n                    return this;\n                };\n            }();\n\n            /**\n             * @method ax5uploader.setUploadedFiles\n             * @param {Array} _files - JSON formatting can all be overridden in columnKeys.\n             * @returns {ax5uploader}\n             * @example\n             * ```js\n             * var upload1 = new ax5.ui.uploader();\n             * upload1.setConfig({\n             *  ...\n             * });\n             *\n             *\n             * $.ajax({\n             *     url: \"api/fileListLoad.php\",\n             *     success: function (res) {\n             *         // res JSON format\n             *         // [{\n             *         // \"name\": \"barcode-scan-ani.gif\",\n             *         // \"saveName\": \"barcode-scan-ani.gif\",\n             *         // \"type\": \"file\",\n             *         // \"fileSize\": \"3891664\",\n             *         // \"uploadedPath\": \"/ax5ui-uploader/test/api/files\",\n             *         // \"thumbUrl\": \"\"\n             *         // }]\n             *         upload1.setUploadedFiles(res);\n             *     }\n             * });\n             * ```\n             */\n            this.setUploadedFiles = function (_files) {\n                if (U.isArray(_files)) {\n                    this.uploadedFiles = _files;\n                }\n                repaintUploadedBox();\n                return this;\n            };\n\n            /**\n             * Removes the object corresponding to the index passed to the argument from uploadedFiles.\n             * @method ax5uploader.removeFile\n             * @param {Number} _index\n             * @returns {ax5uploader}\n             * @example\n             * ```js\n             * // The actual file is not deleted\n             * upload1.removeFile(fileIndex);\n             * ```\n             */\n            this.removeFile = function (_index) {\n                if (!isNaN(Number(_index))) {\n                    this.uploadedFiles.splice(_index, 1);\n                }\n                repaintUploadedBox();\n                return this;\n            };\n\n            /**\n             * Empty uploadedFiles\n             * @method ax5uploader.removeFileAll\n             * @returns {ax5uploader}\n             * @example\n             * ```js\n             *\n             * ```\n             */\n            this.removeFileAll = function () {\n                this.uploadedFiles = [];\n                repaintUploadedBox();\n                return this;\n            };\n\n            // 클래스 생성자\n            this.main = function () {\n                UI.uploader_instance = UI.uploader_instance || [];\n                UI.uploader_instance.push(this);\n\n                if (arguments && U.isObject(arguments[0])) {\n                    this.setConfig(arguments[0]);\n                } else {\n                    //this.init();\n                }\n            }.apply(this, arguments);\n        };\n        return ax5uploader;\n    }());\n\n    UPLOADER = ax5.ui.uploader;\n})();\n\n// todo :\n// html5용 업로드 - 구현완료\n// abort, 여러개의 파일이 올라가는 중간에 abort 하면 업로드된 파일은 두고. 안올라간 파일만 중지 -- ok\n// set uploded files\n// uploaded files display, needs columnKeys\n// delete file\n\n// dropFile support\n// ax5.ui.uploader.tmpl\n(function () {\n\n    var UPLOADER = ax5.ui.uploader;\n\n    var uploadProgress = function uploadProgress(columnKeys) {\n        return \"\\n        \";\n    };\n\n    var inputFile = function inputFile(columnKeys) {\n        return \"<input type=\\\"file\\\" data-ax5uploader-input=\\\"{{instanceId}}\\\" {{#multiple}}multiple{{/multiple}} accept=\\\"{{accept}}\\\" />\";\n    };\n\n    var inputFileForm = function inputFileForm(columnKeys) {\n        return \"<form data-ax5uploader-form=\\\"{{instanceId}}\\\" method=\\\"post\\\" enctype=\\\"multipart/form-data\\\"></form>\";\n    };\n\n    var progressBox = function progressBox(columnKeys) {\n        return \"\\n<div data-ax5uploader-progressbox=\\\"{{instanceId}}\\\" class=\\\"{{theme}}\\\">\\n    <div class=\\\"ax-progressbox-body\\\">\\n        <div class=\\\"ax-pregressbox-content\\\">\\n            <div class=\\\"progress\\\">\\n              <div class=\\\"progress-bar progress-bar-striped active\\\" role=\\\"progressbar\\\" style=\\\"width: 0\\\">\\n                <span class=\\\"sr-only\\\">0% Complete</span>\\n              </div>\\n            </div>\\n        </div>\\n        {{#btns}}\\n            <div class=\\\"ax-progressbox-buttons\\\">\\n            {{#btns}}\\n                {{#@each}}\\n                <button data-pregressbox-btn=\\\"{{@key}}\\\" class=\\\"btn btn-default {{@value.theme}}\\\">{{@value.label}}</button>\\n                {{/@each}}\\n            {{/btns}}\\n            </div>\\n        {{/btns}}\\n    </div>\\n    <div class=\\\"ax-progressbox-arrow\\\"></div>\\n</div>\\n\";\n    };\n\n    var upoadedBox = function upoadedBox(columnKeys) {\n        return \"\\n{{#uploadedFiles}}<div data-ax5uploader-uploaded-item=\\\"{{@i}}\\\">\\n    <div class=\\\"uploaded-item-holder\\\" >\\n        <div class=\\\"uploaded-item-cell\\\" data-uploaded-item-cell=\\\"download\\\">{{{icon.download}}}</div>\\n        <div class=\\\"uploaded-item-cell\\\" data-uploaded-item-cell=\\\"filename\\\">{{\" + columnKeys.name + \"}}</div>\\n        <div class=\\\"uploaded-item-cell\\\" data-uploaded-item-cell=\\\"filesize\\\">({{#@fn_get_byte}}{{\" + columnKeys.size + \"}}{{/@fn_get_byte}})</div>\\n        <div class=\\\"uploaded-item-cell\\\" data-uploaded-item-cell=\\\"delete\\\">{{{icon.delete}}}</div>\\n    </div>\\n</div>{{/uploadedFiles}}\\n{{^uploadedFiles}}\\n{{{lang.emptyList}}}\\n{{/uploadedFiles}}\\n\";\n    };\n\n    UPLOADER.tmpl = {\n        \"uploadProgress\": uploadProgress,\n        \"inputFile\": inputFile,\n        \"inputFileForm\": inputFileForm,\n        \"progressBox\": progressBox,\n        \"upoadedBox\": upoadedBox,\n\n        get: function get(tmplName, data, columnKeys) {\n            data[\"@fn_get_byte\"] = function () {\n                return function (text, render) {\n                    return ax5.util.number(render(text), { round: 2, byte: true });\n                };\n            };\n            return ax5.mustache.render(UPLOADER.tmpl[tmplName].call(this, columnKeys), data);\n        }\n    };\n})();","// ax5.ui.uploader\n(function () {\n\n    let UI = ax5.ui;\n    let U = ax5.util;\n    let UPLOADER;\n\n    UI.addClass({\n        className: \"uploader\",\n        version: \"${VERSION}\"\n    }, (function () {\n\n        let ax5uploader = function () {\n            /**\n             * @class ax5uploader\n             * @classdesc\n             * @author tom@axisj.com\n             * @example\n             * ```js\n             *\n             * ```\n             */\n            let self = this,\n                cfg;\n\n            this.instanceId = ax5.getGuid();\n            this.config = {\n                clickEventName: \"click\", //(('ontouchstart' in document.documentElement) ? \"touchend\" : \"click\"),\n                theme: 'default', // theme of uploader\n                lang: { // 업로더 버튼 랭귀지 설정\n                    \"upload\": \"Upload\",\n                    \"abort\": \"Abort\"\n                },\n                uploadedBox: {\n                    columnKeys: {\n                        name: \"name\",\n                        type: \"type\",\n                        size: \"size\",\n                        uploadedName: \"uploadedName\",\n                        uploadedPath: \"uploadedPath\",\n                        downloadPath: \"downloadPath\",\n                        previewPath: \"previewPath\",\n                        thumbnail: \"thumbnail\"\n                    }\n                },\n                animateTime: 100,\n                accept: \"*/*\", // 업로드 선택 파일 타입 설정\n                multiple: false, // 다중 파일 업로드\n                manualUpload: false, // 업로딩 시작 수동처리 여부\n                progressBox: true // 업로드 프로그래스 박스 사용여부 false 이면 업로드 진행바를 표시 하지 않습니다. 개발자가 onprogress 함수를 이용하여 직접 구현 해야 합니다.\n            };\n            this.defaultBtns = {\n                \"upload\": {label: this.config.lang[\"upload\"], theme: \"btn-primary\"},\n                \"abort\": {label: this.config.lang[\"abort\"], theme: this.config.theme}\n            };\n\n            /// 업로드된 파일 큐\n            this.uploadedFiles = [];\n            /// 업로더 타겟\n            this.$target = null;\n            /// 업로드된 파일 정보들의 input 태그를 담아두는 컨테이너\n            this.$inputContainer = null;\n            /// input file 태그\n            this.$inputFile = null;\n            this.$inputFileForm = null;\n            /// 파일 선택버튼\n            this.$fileSelector = null;\n            /// 파일 드랍존\n            this.$dropZone = null;\n            /// 파일 목록 표시박스\n            this.$uploadedBox = null;\n\n            this.__uploading = false;\n            this.selectedFiles = [];\n            this.selectedFilesTotal = 0;\n            this.__loaded = 0;\n\n            cfg = this.config;\n\n            /**\n             * UI 상태변경 이벤트 처리자\n             * UI의 상태변경 : open, close, upload 등의 변경사항이 발생되면 onStateChanged 함수를 후출하여 이벤트를 처리\n             */\n            let onStateChanged = function (that) {\n\n                let state = {\n                    \"open\": function () {\n\n                    },\n                    \"close\": function () {\n\n                    },\n                    \"upload\": function () {\n\n                    }\n                };\n\n                if (cfg.onStateChanged) {\n                    cfg.onStateChanged.call(that, that);\n                }\n                else if (this.onStateChanged) {\n                    this.onStateChanged.call(that, that);\n                }\n\n                that = null;\n                return true;\n            };\n\n            let onSelectFile = (function (_evt) {\n                let files;\n\n                if (!ax5.info.supportFileApi) {\n                    // file API 지원 안되는 브라우저.\n                }\n                else if ('dataTransfer' in _evt) {\n                    files = _evt.dataTransfer.files;\n                }\n                else if ('target' in _evt) {\n                    files = _evt.target.files;\n                }\n                else if (_evt) {\n                    files = _evt;\n                }\n\n                if (!files) return false;\n\n                /// selectedFiles에 현재 파일 정보 담아두기\n                if (length in files) {\n                    this.selectedFiles = U.toArray(files);\n                } else {\n                    this.selectedFiles = [files];\n                }\n\n                if (cfg.progressBox) {\n                    openProgressBox();\n                }\n                if (!cfg.manualUpload) {\n                    this.send();\n                }\n            }).bind(this);\n\n            let bindEvent = function () {\n                this.$fileSelector\n                    .off(\"click.ax5uploader\")\n                    .on(\"click.ax5uploader\", (function () {\n                        this.$inputFile.trigger(\"click\");\n                    }).bind(this));\n\n                this.$inputFile\n                    .off(\"change.ax5uploader\")\n                    .on(\"change.ax5uploader\", (function (_evt) {\n                        onSelectFile(_evt);\n                    }).bind(this));\n\n                (function () {\n                    // dropZone 설정 방식 변경\n                    if(!this.$dropZone || !this.$dropZone.get(0)) return false;\n\n                    let timer;\n\n                    this.$dropZone\n                        .on(\"click\", function (e) {\n                            //console.log(e.target.getAttribute(\"data-ax5uploader-dropzone\"));\n                            let isItemCell = ax5.util.findParentNode(e.target, function(target){\n                                if(target.hasAttribute(\"data-uploaded-item-cell\")){\n                                    return true;\n                                }\n                            });\n\n                            if(!isItemCell){\n                                // dropZone click\n                                self.$inputFile.trigger(\"click\");\n                            }\n                        });\n\n\n                    this.$dropZone.get(0).addEventListener('dragover', function (e) {\n                        U.stopEvent(e);\n                        self.$dropZone.addClass(\"dragover\");\n                    }, false);\n\n                    this.$dropZone.get(0).addEventListener('dragleave', function (e) {\n                        U.stopEvent(e);\n                        self.$dropZone.removeClass(\"dragover\");\n                    }, false);\n\n                    this.$dropZone.get(0).addEventListener('drop', function (e) {\n                        U.stopEvent(e);\n                        self.$dropZone.removeClass(\"dragover\");\n                        onSelectFile(e || window.event);\n                    }, false);\n\n                }).call(this);\n            };\n\n            let alignLayout = function () {\n                // 상황이 좋지 않은경우 (만약 버튼 클릭으로 input file click이 되지 않는 다면 z-index값을 높여서 버튼위를 덮는다.)\n                /*\n                 var box = this.$fileSelector.position();\n                 box.width = this.$fileSelector.outerWidth();\n                 box.height = this.$fileSelector.outerHeight();\n                 this.$inputFile.css(box);\n                 */\n            };\n\n            let alignProgressBox = function (append) {\n                let _alignProgressBox = function () {\n                    let $window = jQuery(window), $body = jQuery(document.body);\n                    let pos = {}, positionMargin = 6,\n                        dim = {}, pickerDim = {},\n                        pickerDirection;\n\n                    // cfg.viewport.selector\n\n                    pos = (this.$progressBox.parent().get(0) == this.$target.get(0)) ? this.$fileSelector.position() : this.$fileSelector.offset();\n                    dim = {\n                        width: this.$fileSelector.outerWidth(),\n                        height: this.$fileSelector.outerHeight()\n                    };\n                    pickerDim = {\n                        winWidth: Math.max($window.width(), $body.width()),\n                        winHeight: Math.max($window.height(), $body.height()),\n                        width: this.$progressBox.outerWidth(),\n                        height: this.$progressBox.outerHeight()\n                    };\n\n                    // picker css(width, left, top) & direction 결정\n                    if (!cfg.direction || cfg.direction === \"\" || cfg.direction === \"auto\") {\n                        // set direction\n                        pickerDirection = \"top\";\n                        if (pos.top - pickerDim.height - positionMargin < 0) {\n                            pickerDirection = \"top\";\n                        } else if (pos.top + dim.height + pickerDim.height + positionMargin > pickerDim.winHeight) {\n                            pickerDirection = \"bottom\";\n                        }\n                    } else {\n                        pickerDirection = cfg.direction;\n                    }\n\n                    if (append) {\n                        this.$progressBox\n                            .addClass(\"direction-\" + pickerDirection);\n                    }\n\n                    let positionCSS = (function () {\n                        let css = {left: 0, top: 0};\n                        switch (pickerDirection) {\n                            case \"top\":\n                                css.left = pos.left + dim.width / 2 - pickerDim.width / 2;\n                                css.top = pos.top + dim.height + positionMargin;\n                                break;\n                            case \"bottom\":\n                                css.left = pos.left + dim.width / 2 - pickerDim.width / 2;\n                                css.top = pos.top - pickerDim.height - positionMargin;\n                                break;\n                            case \"left\":\n                                css.left = pos.left + dim.width + positionMargin;\n                                css.top = pos.top - pickerDim.height / 2 + dim.height / 2;\n                                break;\n                            case \"right\":\n                                css.left = pos.left - pickerDim.width - positionMargin;\n                                css.top = pos.top - pickerDim.height / 2 + dim.height / 2;\n                                break;\n                        }\n                        return css;\n                    })();\n\n                    (function () {\n                        if (pickerDirection == \"top\" || pickerDirection == \"bottom\") {\n                            if (positionCSS.left < 0) {\n                                positionCSS.left = positionMargin;\n                                this.$progressBoxArrow.css({left: (pos.left + dim.width / 2) - positionCSS.left});\n                            } else if (positionCSS.left + pickerDim.width > pickerDim.winWidth) {\n                                positionCSS.left = pickerDim.winWidth - pickerDim.width - positionMargin;\n                                this.$progressBoxArrow.css({left: (pos.left + dim.width / 2) - positionCSS.left});\n                            }\n                        }\n                    }).call(this);\n\n                    this.$progressBox\n                        .css(positionCSS);\n                };\n\n                this.$progressBox.css({top: -999});\n                if (append) {\n                    // progressBox를 append 할 타겟 엘리먼트 펀단 후 결정.\n                    (function () {\n                        if (cfg.viewport) {\n                            return jQuery(cfg.viewport.selector);\n                        } else {\n                            return this.$target;\n                        }\n                    }).call(this).append(this.$progressBox);\n\n                    // progressBox 버튼에 이벤트 연결.\n                    this.$progressBox\n                        .off(\"click.ax5uploader\")\n                        .on(\"click.ax5uploader\", \"button\", (function (_evt) {\n                            let act = _evt.target.getAttribute(\"data-pregressbox-btn\");\n                            let processor = {\n                                \"upload\": function () {\n                                    this.send();\n                                },\n                                \"abort\": function () {\n                                    this.abort();\n                                }\n                            };\n                            if (processor[act]) processor[act].call(this);\n                        }).bind(this));\n                }\n\n                setTimeout((function () {\n                    _alignProgressBox.call(this);\n                }).bind(this));\n            };\n\n            let openProgressBox = (function () {\n                this.$progressBox.removeClass(\"destroy\");\n                this.$progressUpload.removeAttr(\"disabled\");\n                this.$progressAbort.removeAttr(\"disabled\");\n\n                // apend & align progress box\n                alignProgressBox.call(this, \"append\");\n\n                // state change\n                onStateChanged.call(this, {\n                    self: this,\n                    state: \"open\"\n                });\n            }).bind(this);\n\n            let closeProgressBox = (function () {\n                this.$progressBox.addClass(\"destroy\");\n                setTimeout((function () {\n                    this.$progressBox\n                        .remove();\n                }).bind(this), cfg.animateTime);\n            }).bind(this);\n\n            let startUpload = (function () {\n\n                let processor = {\n                    \"html5\": function () {\n\n                        let uploadFile = this.selectedFiles.shift();\n                        if (!uploadFile) {\n                            // 업로드 종료\n                            uploadComplete();\n                            return this;\n                        }\n\n                        let formData = new FormData();\n                        //서버로 전송해야 할 추가 파라미터 정보 설정\n\n                        this.$target.find(\"input\").each(function () {\n                            formData.append(this.name, this.value);\n                        });\n                        // 파일 아이템 추가\n                        formData.append(cfg.form.fileName, uploadFile);\n\n                        this.xhr = new XMLHttpRequest();\n                        this.xhr.open(\"post\", cfg.form.action, true);\n\n                        this.xhr.onload = function (e) {\n                            let res = e.target.response;\n                            try {\n                                if (typeof res == \"string\") res = U.parseJson(res);\n                            } catch (e) {\n                                return false;\n                            }\n                            if (cfg.debug) console.log(res);\n\n                            if (res.error) {\n                                if (cfg.debug) console.log(res.error);\n                                return false;\n                            }\n\n                            uploaded(res);\n                            self.send();\n                        };\n\n                        this.xhr.upload.onprogress = function (e) {\n                            // console.log(e.loaded, e.total);\n                            updateProgressBar(e);\n                            if (U.isFunction(cfg.onprogress)) {\n                                cfg.onprogress.call({\n                                    loaded: e.loaded,\n                                    total: e.total\n                                }, e);\n                            }\n                        };\n                        this.xhr.send(formData);  // multipart/form-data\n\n                    },\n                    \"form\": function () {\n                        // 폼과 iframe을 만들어 페이지 아래에 삽입 후 업로드\n                        // iframe 생성\n                        let iframe = $('<iframe src=\"javascript:false;\" name=\"\" style=\"display:none;\"></iframe>');\n                        // form 생성.\n\n                        $(document.body).append(iframe);\n                    }\n                };\n\n                if (this.__uploading === false) {\n                    // 전체 파일 사이즈 구하기\n                    let filesTotal = 0;\n                    this.selectedFiles.forEach(function (n) {\n                        filesTotal += n.size;\n                    });\n                    this.selectedFilesTotal = filesTotal;\n                    this.__loaded = 0;\n\n\n                    this.__uploading = true; // 업로드 시작 상태 처리\n                    this.$progressUpload.attr(\"disabled\", \"disabled\");\n                    this.$progressAbort.removeAttr(\"disabled\");\n                }\n\n                processor[ax5.info.supportFileApi ? \"html5\" : \"form\"].call(this);\n\n            }).bind(this);\n\n            let updateProgressBar = (function (e) {\n                this.__loaded += e.loaded;\n                this.$progressBar.css({width: U.number(this.__loaded / this.selectedFilesTotal * 100, {round: 2}) + '%'});\n                if (e.lengthComputable) {\n                    if (e.loaded >= e.total) {\n\n                    }\n                }\n            }).bind(this);\n\n            let uploaded = (function (res) {\n                if (cfg.debug) console.log(res);\n                this.uploadedFiles.push(res);\n                repaintUploadedBox(); // 업로드된 파일 출력\n\n                if (U.isFunction(cfg.onuploaded)) {\n                    cfg.onuploaded.call({\n                        self: this\n                    }, res);\n                }\n            }).bind(this);\n\n            let uploadComplete = (function () {\n                this.__uploading = false; // 업로드 완료 상태처리\n                this.$progressUpload.removeAttr(\"disabled\");\n                this.$progressAbort.attr(\"disabled\", \"disabled\");\n\n                if (cfg.progressBox) {\n                    closeProgressBox();\n                }\n                if (U.isFunction(cfg.onuploadComplete)) {\n                    cfg.onuploadComplete.call({\n                        self: this\n                    });\n                }\n                // update uploadedFiles display\n            }).bind(this);\n\n            let cancelUpload = (function () {\n\n                let processor = {\n                    \"html5\": function () {\n                        if (this.xhr) {\n                            this.xhr.abort();\n                        }\n                    },\n                    \"form\": function () {\n\n                    }\n                };\n\n                this.__uploading = false; // 업로드 완료 상태처리\n                this.$progressUpload.removeAttr(\"disabled\");\n                this.$progressAbort.attr(\"disabled\", \"disabled\");\n\n                processor[ax5.info.supportFileApi ? \"html5\" : \"form\"].call(this);\n\n                if (cfg.progressBox) {\n                    closeProgressBox();\n                }\n\n                this.$inputFile.get(0).value = \"\";\n                console.log(\"cancelUpload\");\n                // update uploadedFiles display\n            }).bind(this);\n\n            let repaintUploadedBox = (function () {\n                // uploadedBox 가 없다면 아무일도 하지 않음.\n                // onuploaded 함수 이벤트를 이용하여 개발자가 직접 업로드디 박스를 구현 한다고 이해 하자.\n                if (this.$uploadedBox === null) return this;\n\n                this.$uploadedBox.html(\n                    UPLOADER.tmpl.get(\"upoadedBox\", {\n                        uploadedFiles: this.uploadedFiles,\n                        icon: cfg.uploadedBox.icon,\n                        lang: cfg.uploadedBox.lang\n                    }, cfg.uploadedBox.columnKeys)\n                );\n\n            }).bind(this);\n\n            this.init = function (_config) {\n                cfg = jQuery.extend(true, {}, cfg, _config);\n                if (!cfg.target) {\n                    console.log(ax5.info.getError(\"ax5uploader\", \"401\", \"init\"));\n                    return this;\n                }\n\n                this.$target = jQuery(cfg.target);\n\n                // 파일 드랍존은 옵션 사항.\n                if (cfg.dropZone) {\n                    this.$dropZone = jQuery(cfg.dropZone);\n                    this.$dropZone\n                        .attr(\"data-ax5uploader-dropzone\", this.instanceId);\n                }\n\n                // uploadedBox 옵션 사항\n                if (cfg.uploadedBox && cfg.uploadedBox.target) {\n                    this.$uploadedBox = jQuery(cfg.uploadedBox.target);\n                    this.$uploadedBox.on(\"click\", \"[data-uploaded-item-cell]\", function () {\n                        let $this = jQuery(this),\n                            cellType = $this.attr(\"data-uploaded-item-cell\"),\n                            uploadedItemIndex = Number($this.parents('[data-ax5uploader-uploaded-item]').attr('data-ax5uploader-uploaded-item')),\n                            that = {};\n\n                        if (cfg.uploadedBox && cfg.uploadedBox.onclick) {\n                            that = {\n                                self: self,\n                                cellType: cellType,\n                                uploadedFiles: self.uploadedFiles,\n                                fileIndex: uploadedItemIndex\n                            };\n                            cfg.uploadedBox.onclick.call(that, that);\n                        }\n\n                        $this = null;\n                        cellType = null;\n                        uploadedItemIndex = null;\n                        that = null;\n                    });\n                }\n\n                // target attribute data\n                (function (data) {\n                    if (U.isObject(data) && !data.error) {\n                        cfg = jQuery.extend(true, cfg, data);\n                    }\n                }).call(this, U.parseJson(this.$target.attr(\"data-ax5uploader-config\"), true));\n\n\n                // detect element\n                /// fileSelector 수집\n                this.$fileSelector = this.$target.find('[data-ax5uploader-button=\"selector\"]');\n\n                if (this.$fileSelector.length === 0) {\n                    console.log(ax5.info.getError(\"ax5uploader\", \"402\", \"can not find file selector\"));\n                    return this;\n                }\n\n                // input file 추가\n                this.$inputFile = jQuery(UPLOADER.tmpl.get.call(this, \"inputFile\", {\n                    instanceId: this.instanceId,\n                    multiple: cfg.multiple,\n                    accept: cfg.accept\n                }));\n\n                if (ax5.info.supportFileApi) {\n                    jQuery(document.body).append(this.$inputFile);\n                } else {\n                    this.$inputFileForm = jQuery(UPLOADER.tmpl.get.call(this, \"inputFileForm\", {\n                        instanceId: this.instanceId\n                    }));\n                    this.$inputFileForm.append(this.$inputFile);\n                    jQuery(document.body).append(this.$inputFileForm);\n                }\n\n                // btns 확인\n                cfg.btns = jQuery.extend({}, this.defaultBtns, cfg.btns);\n\n                this.$progressBox = jQuery(UPLOADER.tmpl.get.call(this, \"progressBox\", {\n                    instanceId: this.instanceId,\n                    btns: cfg.btns\n                }));\n                this.$progressBar = this.$progressBox.find('[role=\"progressbar\"]');\n                this.$progressBoxArrow = this.$progressBox.find(\".ax-progressbox-arrow\");\n                this.$progressUpload = this.$progressBox.find('[data-pregressbox-btn=\"upload\"]');\n                this.$progressAbort = this.$progressBox.find('[data-pregressbox-btn=\"abort\"]');\n\n                // 레이아웃 정렬\n                alignLayout.call(this);\n                // 파일버튼 등에 이벤트 연결.\n                bindEvent.call(this);\n\n                return this;\n            };\n\n            /**\n             * @method ax5uploader.send\n             * @returns {ax5uploader}\n             *\n             */\n            this.send = (function () {\n                return function () {\n                    // 업로드 시작\n                    startUpload();\n                    return this;\n                }\n            })();\n\n            /**\n             * @method ax5uploader.abort\n             * @returns {ax5uploader}\n             */\n            this.abort = (function () {\n                return function () {\n                    cancelUpload();\n                    return this;\n                };\n            })();\n\n            /**\n             * @method ax5uploader.setUploadedFiles\n             * @param {Array} _files - JSON formatting can all be overridden in columnKeys.\n             * @returns {ax5uploader}\n             * @example\n             * ```js\n             * var upload1 = new ax5.ui.uploader();\n             * upload1.setConfig({\n             *  ...\n             * });\n             *\n             *\n             * $.ajax({\n             *     url: \"api/fileListLoad.php\",\n             *     success: function (res) {\n             *         // res JSON format\n             *         // [{\n             *         // \"name\": \"barcode-scan-ani.gif\",\n             *         // \"saveName\": \"barcode-scan-ani.gif\",\n             *         // \"type\": \"file\",\n             *         // \"fileSize\": \"3891664\",\n             *         // \"uploadedPath\": \"/ax5ui-uploader/test/api/files\",\n             *         // \"thumbUrl\": \"\"\n             *         // }]\n             *         upload1.setUploadedFiles(res);\n             *     }\n             * });\n             * ```\n             */\n            this.setUploadedFiles = function (_files) {\n                if (U.isArray(_files)) {\n                    this.uploadedFiles = _files;\n                }\n                repaintUploadedBox();\n                return this;\n            };\n\n            /**\n             * Removes the object corresponding to the index passed to the argument from uploadedFiles.\n             * @method ax5uploader.removeFile\n             * @param {Number} _index\n             * @returns {ax5uploader}\n             * @example\n             * ```js\n             * // The actual file is not deleted\n             * upload1.removeFile(fileIndex);\n             * ```\n             */\n            this.removeFile = function (_index) {\n                if (!isNaN(Number(_index))) {\n                    this.uploadedFiles.splice(_index, 1);\n                }\n                repaintUploadedBox();\n                return this;\n            };\n\n            /**\n             * Empty uploadedFiles\n             * @method ax5uploader.removeFileAll\n             * @returns {ax5uploader}\n             * @example\n             * ```js\n             *\n             * ```\n             */\n            this.removeFileAll = function () {\n                this.uploadedFiles = [];\n                repaintUploadedBox();\n                return this;\n            };\n\n            // 클래스 생성자\n            this.main = (function () {\n                UI.uploader_instance = UI.uploader_instance || [];\n                UI.uploader_instance.push(this);\n\n                if (arguments && U.isObject(arguments[0])) {\n                    this.setConfig(arguments[0]);\n                }\n                else {\n                    //this.init();\n                }\n            }).apply(this, arguments);\n        };\n        return ax5uploader;\n    })());\n\n    UPLOADER = ax5.ui.uploader;\n})();\n\n\n// todo :\n// html5용 업로드 - 구현완료\n// abort, 여러개의 파일이 올라가는 중간에 abort 하면 업로드된 파일은 두고. 안올라간 파일만 중지 -- ok\n// set uploded files\n// uploaded files display, needs columnKeys\n// delete file\n\n// dropFile support","// ax5.ui.uploader.tmpl\n(function () {\n\n    let UPLOADER = ax5.ui.uploader;\n\n    let uploadProgress = function (columnKeys) {\n        return `\n        `;\n    };\n\n    let inputFile = function (columnKeys) {\n        return `<input type=\"file\" data-ax5uploader-input=\"{{instanceId}}\" {{#multiple}}multiple{{/multiple}} accept=\"{{accept}}\" />`;\n    };\n\n    let inputFileForm = function (columnKeys) {\n        return `<form data-ax5uploader-form=\"{{instanceId}}\" method=\"post\" enctype=\"multipart/form-data\"></form>`;\n    };\n\n    let progressBox = function (columnKeys) {\n        return `\n<div data-ax5uploader-progressbox=\"{{instanceId}}\" class=\"{{theme}}\">\n    <div class=\"ax-progressbox-body\">\n        <div class=\"ax-pregressbox-content\">\n            <div class=\"progress\">\n              <div class=\"progress-bar progress-bar-striped active\" role=\"progressbar\" style=\"width: 0\">\n                <span class=\"sr-only\">0% Complete</span>\n              </div>\n            </div>\n        </div>\n        {{#btns}}\n            <div class=\"ax-progressbox-buttons\">\n            {{#btns}}\n                {{#@each}}\n                <button data-pregressbox-btn=\"{{@key}}\" class=\"btn btn-default {{@value.theme}}\">{{@value.label}}</button>\n                {{/@each}}\n            {{/btns}}\n            </div>\n        {{/btns}}\n    </div>\n    <div class=\"ax-progressbox-arrow\"></div>\n</div>\n`;\n    };\n\n    let upoadedBox = function (columnKeys) {\n        return `\n{{#uploadedFiles}}<div data-ax5uploader-uploaded-item=\"{{@i}}\">\n    <div class=\"uploaded-item-holder\" >\n        <div class=\"uploaded-item-cell\" data-uploaded-item-cell=\"download\">{{{icon.download}}}</div>\n        <div class=\"uploaded-item-cell\" data-uploaded-item-cell=\"filename\">{{${columnKeys.name}}}</div>\n        <div class=\"uploaded-item-cell\" data-uploaded-item-cell=\"filesize\">({{#@fn_get_byte}}{{${columnKeys.size}}}{{/@fn_get_byte}})</div>\n        <div class=\"uploaded-item-cell\" data-uploaded-item-cell=\"delete\">{{{icon.delete}}}</div>\n    </div>\n</div>{{/uploadedFiles}}\n{{^uploadedFiles}}\n{{{lang.emptyList}}}\n{{/uploadedFiles}}\n`;\n    };\n\n    UPLOADER.tmpl = {\n        \"uploadProgress\": uploadProgress,\n        \"inputFile\": inputFile,\n        \"inputFileForm\": inputFileForm,\n        \"progressBox\": progressBox,\n        \"upoadedBox\": upoadedBox,\n\n        get: function (tmplName, data, columnKeys) {\n            data[\"@fn_get_byte\"] = function() {\n                return function (text, render) {\n                    return ax5.util.number(render(text), {round: 2, byte: true});\n                }\n            };\n            return ax5.mustache.render(UPLOADER.tmpl[tmplName].call(this, columnKeys), data);\n        }\n    };\n\n})();"]}