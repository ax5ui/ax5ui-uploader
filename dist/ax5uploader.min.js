"use strict";!function(){var t=ax5.ui,i=ax5.util,e=void 0;t.addClass({className:"uploader",version:"${VERSION}"},function(){var n=function(){var n=void 0;this.instanceId=ax5.getGuid(),this.config={clickEventName:"click",theme:"default",accept:"*/*",multiple:!1},this.uploadedFiles=[],this.$target=null,this.$inputContainer=null,this.$inputFile=null,this.$inputFileForm=null,this.$fileSelector=null,this.$dropZone=null,n=this.config;var a=function(t){var i;return ax5.info.supportFileApi&&("dataTransfer"in t?i=t.dataTransfer.files:"target"in t?i=t.target.files:t&&(i=t)),!!i&&(this.selectedFiles=i,void console.log(this.selectedFiles))},l=function(){this.$fileSelector.off("click.ax5uploader").on("click.ax5uploader",function(){this.$inputFile.trigger("click")}.bind(this)),this.$inputFile.off("change.ax5uploader").on("change.ax5uploader",function(t){a.call(this,t)}.bind(this)),function(){return!1}.call(this)},r=function(){};this.init=function(t){return n=jQuery.extend(!0,{},n,t),n.target?(this.$target=jQuery(n.target),n.dropZone&&(this.$dropZone=jQuery(n.dropZone)),function(t){i.isObject(t)&&!t.error&&(n=jQuery.extend(!0,n,t))}.call(this,i.parseJson(this.$target.attr("data-ax5uploader-config"),!0)),this.$inputContainer=jQuery('<div data-ax5uploader-input-container=""></div>'),this.$target.append(this.$inputContainer),this.$fileSelector=this.$target.find('[data-ax5uploader-button="selector"]'),0===this.$fileSelector.length?(console.log(ax5.info.getError("ax5uploader","402","can not find file selector")),this):(this.$inputFile=jQuery(e.tmpl.get.call(this,"inputFile",{instanceId:this.instanceId,multiple:n.multiple,accept:n.accept})),ax5.info.supportFileApi?jQuery(document.body).append(this.$inputFile):(this.$inputFileForm=jQuery(e.tmpl.get.call(this,"inputFileForm",{instanceId:this.instanceId})),this.$inputFileForm.append(this.$inputFile),jQuery(document.body).append(this.$inputFileForm)),r.call(this),void l.call(this))):(console.log(ax5.info.getError("ax5uploader","401","init")),this)},this.main=function(){t.uploader_instance=t.uploader_instance||[],t.uploader_instance.push(this),arguments&&i.isObject(arguments[0])&&this.setConfig(arguments[0])}.apply(this,arguments)};return n}()),e=ax5.ui.uploader}(),function(){var t=ax5.ui.uploader,i=function(t){return"\n        "},e=function(t){return'<input type="file" data-ax5uploader-input="{{instanceId}}" {{#multiple}}multiple{{/multiple}} accept="{{accept}}" />'},n=function(t){return'<form data-ax5uploader-form="{{instanceId}}" method="post" enctype="multipart/form-data"></form>'};t.tmpl={uploadProgress:i,inputFile:e,inputFileForm:n,get:function(i,e,n){return ax5.mustache.render(t.tmpl[i].call(this,n),e)}}}();
//# sourceMappingURL=ax5uploader.min.js.map
